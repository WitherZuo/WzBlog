---
title: å¦‚ä½•è®©ç½‘é¡µæ»šåŠ¨æ¡åœ¨æ·±è‰²æ¨¡å¼ä¸‹ä¸å†åˆºçœ¼
date: 2021-03-03 09:45:11
updated: 2021-03-03 09:45:11
tags: [Chromium, Edge, Dark Mode, color-scheme]
categories: ä½¿ç”¨ä½“éªŒ
titlename: how-to-make-scrollbar-feel-good-on-darkmode
---
è·ç¦» Chromeã€Edgeã€Firefox ç­‰ä¸€ä¼—ä¸»æµæµè§ˆå™¨æ”¯æŒæ·±è‰²æ¨¡å¼å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä½†æ˜¯æµè§ˆå™¨ç•Œé¢æœ¬èº«å’Œç½‘é¡µè™½ç„¶æ”¯æŒæ·±è‰²æ¨¡å¼äº†ï¼Œè¿˜æ˜¯æœ‰ä¸€ä¸ªåœ°æ–¹ä¸æ”¯æŒâ€”â€”å°±æ˜¯**æµè§ˆå™¨è‡ªå¸¦çš„æ»šåŠ¨æ¡**ã€‚æ¯æ¬¡åœ¨æ·±è‰²æ¨¡å¼ä¸‹çœ‹ç€ç½‘é¡µå’Œæ—è¾¹çš„æ»šåŠ¨æ¡ï¼Œä¸€æ·±ä¸€æµ…é¢‡ä¸ºæ˜¾çœ¼ã€‚Firefox ä¹‹å‰æ—©å·²æ‹¿å‡ºäº†ä¸€å¥—æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆ[å•å‡»æ­¤å¤„](https://wzblog.fun/posts/make-scrollbar-unibody-on-fx72/)ï¼‰ï¼Œä½†æ˜¯ä¸€ä¼— Chromium ç±»æµè§ˆå™¨å¯æ²¡åŠæ³•å•Šã€‚ç„¶è€Œå‰ä¸€æ®µæ—¶é—´ GitHub æ”¯æŒäº†æ·±è‰²æ¨¡å¼ï¼Œåˆ‡æ¢ GitHub ä¸ºæ·±è‰²æ¨¡å¼çš„é‚£ä¸€åˆ»ï¼ŒGitHub é¡µé¢çš„æ»šåŠ¨æ¡ä¹Ÿä¸€å¹¶è°ƒä¸ºæ·±è‰²äº†ï¼Œå¸¦æ¥è¿™ä¸ªå˜åŒ–çš„å…³é”®å°±æ˜¯ `color-scheme` è¿™ä¸ªæ–°å±æ€§ã€‚

<!-- more -->  

##  1. ç®€ä»‹ `color-scheme`

ä¸‹é¢è´´ä¸€å¼ åœ¨æ·±è‰²æ¨¡å¼ä¸‹ GitHub çš„é¡µé¢æ•ˆæœå›¾ï¼š  

[![6AlkYF.png](https://s3.ax1x.com/2021/03/03/6AlkYF.png)](https://imgtu.com/i/6AlkYF)  

å¯ä»¥çœ‹åˆ°åœ¨æ·±è‰²æ¨¡å¼ä¸‹ç½‘é¡µé™„è¿‘çš„æ»šåŠ¨æ¡å·²ç»ä¸å†é‚£ä¹ˆåˆºçœ¼äº†ã€‚

å†æ¥çœ‹çœ‹ [web.dev](https://web.dev/color-scheme/) ä¸Šå¯¹ `color-scheme` çš„è§£é‡Šï¼š  

> The [`color-scheme`](https://drafts.csswg.org/css-color-adjust/#color-scheme-prop) property defined therein allows an element to indicate which color schemes it is comfortable being rendered with. These values are negotiated with the user's preferences, resulting in a chosen color scheme that affects user interface (UI) things such as the default colors of form controls and scroll bars, as well as the used values of the CSS system colors. 

å½“å‰æ”¯æŒä»¥ä¸‹å€¼ï¼š  

- *`normal`* è¡¨ç¤ºå…ƒç´ çš„æ¸²æŸ“åº”ä¸æµè§ˆå™¨æœ¬èº«çš„é¢œè‰²ä¸»é¢˜ä¸€è‡´ã€‚  
- *`[ light | dark ]+`* è¡¨ç¤ºéµå¾ªæµ…è‰²æ¨¡å¼å’Œæ·±è‰²æ¨¡å¼ä¸‹çš„é¢œè‰²å€¼ï¼Œå¹¶æ ¹æ®è®¾ç½®å¯åœ¨ä¸¤è€…ä¹‹é—´åˆ‡æ¢ã€‚ 

ç”¨æ³•å¦‚ä¸‹ï¼š  

```css
/*
  The page supports both dark and light color schemes,
  and the page author prefers dark.
*/
:root {
  color-scheme: dark light;
}
```

ï¼ˆæ”¾å…¥åˆ°é¡µé¢æ ·å¼è¡¨ä¸­ â¬†ï¼‰  

```html
<!--
  The page supports both dark and light color schemes,
  and the page author prefers dark.
-->
<meta name="color-scheme" content="dark light">
```

ï¼ˆå¦ä¸€ç§æ–¹å¼ï¼Œæ”¾å…¥åˆ°é¡µé¢ä¸»æ–‡æ¡£çš„ `<body>` ä¹‹å‰ â¬†ï¼‰

æ‰“å¼€ DevTool åæŸ¥çœ‹ GitHub é¡µé¢çš„æ–‡æ¡£å†…å®¹å’Œæ ·å¼ï¼š  

[![6AlFFU.png](https://s3.ax1x.com/2021/03/03/6AlFFU.png)](https://imgtu.com/i/6AlFFU)  

##  2. è®©å…¶å®ƒé¡µé¢ä¹Ÿæ”¯æŒ

æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•è®©å…¶å®ƒé¡µé¢ä¹Ÿæ”¯æŒè¿™æ ·çš„æ·±è‰²æ¨¡å¼æ»šåŠ¨æ¡å‘¢ï¼Œå€ŸåŠ©æ‰©å±•ä¹Ÿå¯ä»¥åŠåˆ°ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¸è¶³ï¼š  

- å› ä¸ºå®‰å…¨åŸå› ï¼Œ**æ‰©å±•é»˜è®¤æ— æ³•åœ¨æµè§ˆå™¨çš„å†…ç½®é¡µé¢ä¸Šç”Ÿæ•ˆ**
- å¯èƒ½å¯¹éƒ¨åˆ†é¡µé¢é€ æˆè´Ÿé¢æ•ˆæœ

**æ¥ä¸‹æ¥éœ€è¦ç”¨åˆ°ä¸¤ä¸ªæ‰©å±•ï¼šTampermonkey å’Œ Dark Reader**ã€‚ä¸¤ä¸ªæ‰©å±•å¯ä»¥ç›´æ¥åœ¨ Microsoft Edge çš„æ‰©å±•ä¸­å¿ƒä¸‹è½½åˆ°ï¼ˆåŸºäº Chromium çš„ Microsoft Edge çœŸä¸é”™ğŸ¤£å…¶å®ƒæµè§ˆå™¨è¯·å»å¯¹åº”çš„æ‰©å±•ä¸­å¿ƒä¸‹è½½ï¼‰ã€‚Tampermonkey å°±æ˜¯æ‰€è°“çš„â€œæ²¹çŒ´è„šæœ¬â€ç®¡ç†å™¨ä¹‹ä¸€ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥æ‰§è¡Œä¸€äº›è„šæœ¬è‡ªå®šä¹‰ç½‘ç«™ä¸Šçš„åŠŸèƒ½ï¼Œè€Œ Dark Reader åˆ™å¯ä»¥ç»™æ²¡æœ‰æ·±è‰²æ¨¡å¼åŠ ä¸Šæ·±è‰²æ¨¡å¼ã€‚

ä¸¤ä¸ªæ‰©å±•éƒ½å®‰è£…å®Œæˆåï¼Œå…ˆå»æµè§ˆå™¨çš„æ‰©å±•ç®¡ç†é¡µé¢ï¼ˆå¦‚ Edge çš„ `edge://extensions`ï¼‰æ‰¾åˆ°è¿™ä¸¤ä¸ªæ‰©å±•ï¼Œç„¶åå•å‡»â€œè¯¦ç»†ä¿¡æ¯â€ï¼Œå‹¾é€‰è¿™ä¸¤ä¸ªå•é€‰æ¡†ï¼š  

[![6AlPoT.png](https://s3.ax1x.com/2021/03/03/6AlPoT.png)](https://imgtu.com/i/6AlPoT)  

### Tampermonkey  

ç„¶åæ‰“å¼€ Tampermonkey çš„ç®¡ç†é¢æ¿ï¼Œå•å‡»â€œå·²å®‰è£…è„šæœ¬â€å·¦ä¾§çš„ â€œ+â€å·ï¼Œè¿›å…¥åˆ°â€œæ–°å»ºç”¨æˆ·è„šæœ¬â€çš„é¡µé¢ï¼Œåœ¨ä¸‹æ–¹çš„ç¼–è¾‘å™¨ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ç„¶åä¿å­˜ï¼š  

```javascript
// ==UserScript==
// @name         Dark ScrollBar | æ·±è‰²æ»šåŠ¨æ¡
// @namespace    http://tampermonkey.net/
// @version      1.2
// @description  Make webpage scrollbar to darker color.
// @author       witherzuo
// @include      *
// @grant        none
// @run-at       document-body
// ==/UserScript==

(function() {
    'use strict';

    var style = document.createElement("style");
    style.type = "text/css";
    var text = document.createTextNode(":root {color-scheme: dark light !important;}");
    style.appendChild(text);
    var head = document.getElementsByTagName("head")[0];
    head.appendChild(style);
})();
```

ç®€å•æ¥è¯´ï¼Œä»¥ä¸Šå†…å®¹æ˜¯æ·»åŠ äº†ä¸€ä¸ª `<style>:root {color-scheme: dark light !important}` åˆ°é¡µé¢çš„ `<head>` æ ‡ç­¾ä¸­ï¼Œè€Œ `@include *` åˆ™æ˜¯å°†æ‰€æœ‰é¡µé¢åŒ…æ‹¬åœ¨å†…ç”Ÿæ•ˆï¼Œ`@run-at document-start` åˆ™æ˜¯åœ¨æ–‡æ¡£å¼€å§‹åŠ è½½æ—¶å°±å°½å¯èƒ½å°½å¿«è½½å…¥è„šæœ¬ï¼Œé˜²æ­¢çªç„¶é—ªç™½çš„æƒ…å†µï¼ˆä½†è¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œä¸‹é¢è¿˜è¦è§£å†³å®ƒï¼‰ã€‚  

{% note danger %}  

**æ³¨æ„ï¼š**â€œæ‰€æœ‰é¡µé¢â€ä¸­ä¸åŒ…æ‹¬æµè§ˆå™¨å†…ç½®é¡µé¢ã€‚  

{% endnote %}  

**å¤§éƒ¨åˆ†ç½‘ç«™è¿™æ ·åšä¹‹åå·²ç»å¯ä»¥åšåˆ°é¡µé¢çš„æ»šåŠ¨æ¡è·Ÿéšä¸åŒçš„é¢œè‰²ä¸»é¢˜åŒæ­¥å˜åŒ–äº†**ï¼Œä½†æ˜¯ä»æœ‰äº›ç½‘ç«™ï¼ˆå¦‚ è¿œæ™¯è®ºå› ç­‰ï¼‰ä¼šå‡ºç°åˆšåŠ è½½å®Œæˆåæ­£å¸¸ï¼Œéšåçªç„¶åˆ·æ–°é—ªå›ç™½è‰²çš„æƒ…å†µï¼Œæ¥ä¸‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚  

### Dark Reader  

æ‰“å¼€ Dark Reader çš„è®¾ç½®é¢æ¿ï¼Œ**ç¡®è®¤é»˜è®¤çš„ä½œç”¨åŸŸæ˜¾ç¤ºä¸ºâ€œTheme for all websitesâ€**ï¼ˆå¯¹æ‰€æœ‰ç½‘ç«™çš„ä¸»é¢˜ï¼‰ï¼Œç„¶åå•å‡»ä¸‹é¢çš„â€œSee all optionsâ€ï¼Œæ¥ä¸‹æ¥å•å‡»â€œColorsâ€ï¼Œå°†â€œScrollbarâ€è®¾ç½®ä¸ºâ€œDefaultâ€ã€‚ç„¶åå›åˆ°ä¸»ç•Œé¢ã€‚  

[![6ANQRf.png](https://s3.ax1x.com/2021/03/03/6ANQRf.png)](https://imgtu.com/i/6ANQRf)  
[![6ANMJP.png](https://s3.ax1x.com/2021/03/03/6ANMJP.png)](https://imgtu.com/i/6ANMJP)  
[![6ANKit.png](https://s3.ax1x.com/2021/03/03/6ANKit.png)](https://imgtu.com/i/6ANKit)  

Dark Reader ä¸€å…±æœ‰ä¸‰ç§ä¸åŒçš„æ¨¡å¼ï¼šåŠ¨æ€ã€è¿‡æ»¤ï¼ˆæ™®é€š å’Œ å¢å¼ºï¼‰ã€é™æ€ã€‚å…¶ä¸­å‰ä¸¤ç§æ¨¡å¼æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼Œè€Œé™æ€å‡ ä¹å¾ˆå°‘ç”¨åˆ°ï¼ˆç”šè‡³ç”¨ä¸åˆ°ï¼‰ï¼Œå› æ­¤ä¸‹é¢ä»…é’ˆå¯¹å‰ä¸¤ç§æ¨¡å¼è¿›è¡Œé…ç½®ã€‚

<span style="background:red;color:white">**â€œåŠ¨æ€â€æ¨¡å¼é…ç½®ï¼š**</span>è¿”å›ä¸»ç•Œé¢ï¼Œ**ç¡®è®¤é»˜è®¤çš„ä½œç”¨åŸŸæ˜¾ç¤ºä¸ºâ€œTheme for all websitesâ€**ï¼Œå°†â€œModeâ€é¡¹è®¾ç½®ä¸ºâ€œåŠ¨æ€â€ï¼Œå•å‡»ä¸‹é¢çš„â€œSettingsâ€ï¼Œåœ¨æ¥ä¸‹æ¥çš„ç•Œé¢ä¸­å•å‡»â€œå¼€å‘è€…å·¥å…·â€ã€‚åœ¨ `*` ä¸‹é¢å¢åŠ ä»¥ä¸‹å†…å®¹ï¼ˆå…¶å®ƒåœ°æ–¹ä¸ç”¨æ”¹ï¼‰ï¼š  

```css
CSS
:root {
    color-scheme: dark light !important;
}
```

[![6ANDQU.png](https://s3.ax1x.com/2021/03/03/6ANDQU.png)](https://imgtu.com/i/6ANDQU)  

ä¿®æ”¹å®Œæˆåå•å‡»åº•éƒ¨çš„â€œApplyâ€ä¿å­˜åº”ç”¨ï¼Œç„¶åé€€å‡ºï¼Œè¿”å›åˆ°ä¸»ç•Œé¢ã€‚

<span style="background:red;color:white">**â€œè¿‡æ»¤â€æ¨¡å¼é…ç½®ï¼š**</span>è¿”å›ä¸»ç•Œé¢ï¼Œ**ç¡®è®¤é»˜è®¤çš„ä½œç”¨åŸŸæ˜¾ç¤ºä¸ºâ€œTheme for all websitesâ€**ï¼Œå°†â€œModeâ€é¡¹è®¾ç½®ä¸ºâ€œè¿‡æ»¤â€ï¼ˆæˆ–â€œè¿‡æ»¤+â€ï¼‰ï¼Œå•å‡»ä¸‹é¢çš„â€œSettingsâ€ï¼Œåœ¨æ¥ä¸‹æ¥çš„ç•Œé¢ä¸­å•å‡»â€œå¼€å‘è€…å·¥å…·â€ã€‚åœ¨ `*` ä¸‹é¢å¢åŠ ä»¥ä¸‹å†…å®¹ï¼ˆå…¶å®ƒåœ°æ–¹ä¸ç”¨æ”¹ï¼‰ï¼š  

```css
CSS
:root {
    color-scheme: dark light !important;
}
```

[![6ANwWV.png](https://s3.ax1x.com/2021/03/03/6ANwWV.png)](https://imgtu.com/i/6ANwWV)  

ä¿®æ”¹å®Œæˆåå•å‡»åº•éƒ¨çš„â€œApplyâ€ä¿å­˜åº”ç”¨ï¼Œç„¶åé€€å‡ºï¼Œè¿”å›åˆ°ä¸»ç•Œé¢ã€‚  

**æœ€ç»ˆæ•ˆæœï¼š**  

[![6AtVNq.png](https://s3.ax1x.com/2021/03/03/6AtVNq.png)](https://imgtu.com/i/6AtVNq)  

**é™„æ³¨ï¼š**[ä¸åŒæµè§ˆå™¨å¯¹ `color-scheme` å±æ€§çš„æ”¯æŒç¨‹åº¦](https://caniuse.com/?search=color-scheme)  

